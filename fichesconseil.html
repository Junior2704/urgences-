<!DOCTYPE html>
<html lang="fr">
<head>
<link rel="icon" type="image/jpeg" href="logo.jpg">

  <meta charset="UTF-8" />
  <title>Fiches conseils â€“ Sortie des urgences</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

    body {
      font-family: 'Inter', sans-serif;
      background: #f0f4f8;
      margin: 0;
      padding: 40px 20px;
      color: #333;
    }
    h1 {
      text-align: center;
      font-weight: 700;
      color: #1a202c;
      margin-bottom: 40px;
      font-size: 2.5rem;
      letter-spacing: -0.02em;
    }
    .fiche-list {
      max-width: 900px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
    }
    .fiche-item {
      background: #fff;
      padding: 24px 28px;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgb(0 0 0 / 0.08);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }
    .fiche-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 32px rgb(0 0 0 / 0.12);
    }
    .fiche-item h3 {
      font-size: 1.25rem;
      font-weight: 600;
      margin: 0 0 16px;
      color: #2d3748;
    }
    .fiche-item a {
      text-align: center;
      background-color: #3182ce;
      color: #fff;
      font-weight: 600;
      font-size: 1rem;
      padding: 14px 0;
      border-radius: 8px;
      text-decoration: none;
      box-shadow: 0 4px 12px rgb(49 130 206 / 0.4);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }
    .fiche-item a:hover {
      background-color: #2c5282;
      box-shadow: 0 6px 16px rgb(44 82 130 / 0.6);
    }
    @media (max-width: 480px) {
      body {
        padding: 20px 10px;
      }
      h1 {
        font-size: 1.8rem;
      }
      .fiche-item {
        padding: 18px 20px;
      }
    }
  </style>
</head>
<body>
  <h1>Fiches conseils â€“ Sortie des urgences</h1>
  <div class="fiche-list">
    <div class="fiche-item">
      <h3>Points de suture</h3>
      <a href="fiches_conseils/fiche_conseil_-_points_de_suture.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>AVC</h3>
      <a href="fiches_conseils/fiche_conseil_-_avc.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>Entorse</h3>
      <a href="fiches_conseils/fiche_conseil_-_entorse.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>Fracture</h3>
      <a href="fiches_conseils/fiche_conseil_-_fracture.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>BrÃ»lure</h3>
      <a href="fiches_conseils/fiche_conseil_-_brÃ»lure.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>Plaie simple</h3>
      <a href="fiches_conseils/fiche_conseil_-_plaie_simple.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>PiqÃ»re dâ€™insecte</h3>
      <a href="fiches_conseils/fiche_conseil_-_piqÃ»re_dinsecte.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>Morsure</h3>
      <a href="fiches_conseils/fiche_conseil_-_morsure.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>Infection urinaire</h3>
      <a href="fiches_conseils/fiche_conseil_-_infection_urinaire.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>Crise dâ€™asthme</h3>
      <a href="fiches_conseils/fiche_conseil_-_crise_dasthme.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
	<div class="fiche-item">
      <h3>Suivi asthme</h3>
      <a href="fiches_conseils/fiche_conseil_-_suivi_dasthme.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>Malaise hypoglycÃ©mique</h3>
      <a href="fiches_conseils/fiche_conseil_-_malaise_hypoglycemique.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>FiÃ¨vre chez lâ€™enfant</h3>
      <a href="fiches_conseils/fiche_conseil_-_fiÃ¨vre_chez_lenfant.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>Gastro-entÃ©rite</h3>
      <a href="fiches_conseils/fiche_conseil_-_gastro-enterite.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>Vomissements</h3>
      <a href="fiches_conseils/fiche_conseil_-_vomissements.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
    <div class="fiche-item">
      <h3>Chute sans traumatisme</h3>
      <a href="fiches_conseils/fiche_conseil_-_chute_sans_traumatisme.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
	<div class="fiche-item">
      <h3>Malaise avec PC</h3>
      <a href="fiches_conseils/fiche_conseil_-_malaise_avec_PC.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
	<div class="fiche-item">
      <h3>Traumatise Cranien</h3>
      <a href="fiches_conseils/fiche_conseil_-_TC.pdf" target="_blank" rel="noopener noreferrer">ğŸ“„ Ouvrir</a>
    </div>
  </div>
  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBKp5-7NNy0Gyl0tNbDgD-BxucYdg8ArWo",
    authDomain: "urgences-a8ed4.firebaseapp.com",
    projectId: "urgences-a8ed4"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

let medecinNom = "";
  let medecinSpecialite = "";
  let medecinLieu = "";

  onAuthStateChanged(auth, async (user) => {
  if (!user) {
    window.location.href = "accueil.html";
  } else {
    try {
      const docRef = doc(db, "medecins", user.uid);
      const docSnap = await getDoc(docRef);
      if (docSnap.exists()) {
        const data = docSnap.data();
        const medecinNom = data.nom || "";
        const medecinSpecialite = data.specialite || "";
        const medecinLieu = data.lieu || "";

        // Met Ã  jour aussi les variables globales sur window
        window.medecinNom = medecinNom;
        window.medecinSpecialite = medecinSpecialite;
        window.medecinLieu = medecinLieu;

        // Mise Ã  jour des Ã©lÃ©ments HTML si prÃ©sents
        const nomElem = document.getElementById("nom-medecin");
        if (nomElem) nomElem.textContent = medecinNom;

        const specElem = document.getElementById("specialite");
        if (specElem) specElem.textContent = medecinSpecialite;

        const lieuElem = document.getElementById("lieu-medecin");
        if (lieuElem) lieuElem.textContent = medecinLieu;

        // --- VÃ©rification d'accÃ¨s Ã  la page ---
        const pages = data.pages || {};
        const currentPath = window.location.pathname;
        const currentPage = currentPath.substring(currentPath.lastIndexOf("/") + 1).replace(".html", "");

        if (!pages[currentPage]) {
          alert("â›”ï¸ Vous nâ€™avez pas accÃ¨s Ã  cette page.");
          window.location.href = "accueil.html";
          return; // Stoppe le script ici
        }
      } else {
        // Document inexistant â€” redirection
        alert("Utilisateur non trouvÃ©, veuillez vous reconnecter.");
        window.location.href = "accueil.html";
      }
    } catch (error) {
      console.error("Erreur chargement mÃ©decin :", error);
      alert("Une erreur est survenue, veuillez rÃ©essayer plus tard.");
    }
  }
});
</script>
</body>
</html>
