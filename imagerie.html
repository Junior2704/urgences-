<script>
async function generateMedicalImage(type, membre, lesion){
    const prompt = `${type} ${membre}, ${lesion ? "avec lésion" : "sans lésion"}, imagerie médicale réaliste`;

    const response = await fetch(
        "https://api-inference.huggingface.co/models/Shakker-Labs/MedFusion",
        {
            method: "POST",
            headers: {
                "Authorization": "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",
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ inputs: prompt })
        }
    );

    const blob = await response.blob();
    const url = URL.createObjectURL(blob);

    document.getElementById("result").src = url;
}

generateMedicalImage("rdaio", "bras", "fracture");
</script>

<img id="result" width="400">
